This holds technically valid Stan programs which use #include directives in
strange ways.

The current expectation is that they will work correctly in `inline.expected`
and fail in `stanc.expected`. If they begin passing both places, they should
be moved to `test/integration/cli-args/canonicalize/include`.

  $ ../../../../../install/default/bin/stanc --auto-format --include-paths="." else.stan
Internal compiler error:
("Pretty-printed program does match the original!"
 (prog
  ((functionblock ()) (datablock ()) (transformeddatablock ())
   (parametersblock ()) (transformedparametersblock ()) (modelblock ())
   (generatedquantitiesblock
    (((stmts
       (((stmt
          (VarDecl (decl_type SInt) (transformation Identity)
           (is_global true)
           (variables
            (((identifier ((name x) (id_loc <opaque>))) (initial_value ()))))))
         (smeta ((loc <opaque>))))
        ((stmt
          (IfThenElse ((expr (IntNumeral 1)) (emeta ((loc <opaque>))))
           ((stmt
             (IfThenElse ((expr (IntNumeral 1)) (emeta ((loc <opaque>))))
              ((stmt Skip) (smeta ((loc <opaque>))))
              (((stmt
                 (Block
                  (((stmt
                     (Assignment
                      (assign_lhs
                       (LValue
                        ((lval (LVariable ((name x) (id_loc <opaque>))))
                         (lmeta ((loc <opaque>))))))
                      (assign_op Assign)
                      (assign_rhs
                       ((expr (IntNumeral 25)) (emeta ((loc <opaque>)))))))
                    (smeta ((loc <opaque>)))))))
                (smeta ((loc <opaque>)))))))
            (smeta ((loc <opaque>))))
           ()))
         (smeta ((loc <opaque>))))))
      (xloc <opaque>))))
   (comments <opaque>)))
 (result_ast
  ((functionblock ()) (datablock ()) (transformeddatablock ())
   (parametersblock ()) (transformedparametersblock ()) (modelblock ())
   (generatedquantitiesblock
    (((stmts
       (((stmt
          (VarDecl (decl_type SInt) (transformation Identity)
           (is_global true)
           (variables
            (((identifier ((name x) (id_loc <opaque>))) (initial_value ()))))))
         (smeta ((loc <opaque>))))
        ((stmt
          (IfThenElse ((expr (IntNumeral 1)) (emeta ((loc <opaque>))))
           ((stmt
             (IfThenElse ((expr (IntNumeral 1)) (emeta ((loc <opaque>))))
              ((stmt Skip) (smeta ((loc <opaque>)))) ()))
            (smeta ((loc <opaque>))))
           ()))
         (smeta ((loc <opaque>))))
        ((stmt
          (IfThenElse ((expr (IntNumeral 1)) (emeta ((loc <opaque>))))
           ((stmt Skip) (smeta ((loc <opaque>))))
           (((stmt
              (Block
               (((stmt
                  (Assignment
                   (assign_lhs
                    (LValue
                     ((lval (LVariable ((name x) (id_loc <opaque>))))
                      (lmeta ((loc <opaque>))))))
                   (assign_op Assign)
                   (assign_rhs
                    ((expr (IntNumeral 25)) (emeta ((loc <opaque>)))))))
                 (smeta ((loc <opaque>)))))))
             (smeta ((loc <opaque>)))))))
         (smeta ((loc <opaque>))))))
      (xloc <opaque>))))
   (comments <opaque>))))
Raised at Base__Error.raise in file "src/error.ml" (inlined), line 9, characters 14-30
Called from Base__Error.raise_s in file "src/error.ml", line 10, characters 19-40
Called from Frontend__Pretty_print_prog.pretty_print_program in file "src/frontend/Pretty_print_prog.ml", line 76, characters 2-44
Called from Driver__Entry.stan2cpp in file "src/driver/Entry.ml", line 81, characters 9-383
Called from Dune__exe__Stanc.stanc.(fun) in file "src/stanc/stanc.ml", line 67, characters 4-161
Called from Base__With_return.with_return in file "src/with_return.ml", line 21, characters 12-24
Re-raised at Base__With_return.with_return in file "src/with_return.ml", line 29, characters 12-21
Called from Common__ICE.with_exn_message in file "src/common/ICE.ml", line 14, characters 9-15


This should never happen. Please file a bug at https://github.com/stan-dev/stanc3/issues/new
and include this message and the model that caused this issue.
[exit 125]
  $ ../../../../../install/default/bin/stanc --auto-format --include-paths="." expr.stan
Internal compiler error:
("Pretty-printed program failed to parse"
  "Syntax error in './expr.inc', line 1, column 12, included from\
 \n'string', line 2, column 16, parsing error:\
 \n   -------------------------------------------------\
 \n     1:  bernoulli(0);\
 \n                     ^\
 \n   -------------------------------------------------\
 \n\
 \nIll-formed expression. Unexpected input after the conclusion of a valid expression.\
 \nYou may be missing a \",\" between expressions, an operator, or a terminating \"}\", \")\", \"]\", or \";\".\
 \n"
 (prog
  ((functionblock ()) (datablock ()) (transformeddatablock ())
   (parametersblock ()) (transformedparametersblock ())
   (modelblock
    (((stmts
       (((stmt
          (Tilde (arg ((expr (IntNumeral 1)) (emeta ((loc <opaque>)))))
           (distribution ((name bernoulli) (id_loc <opaque>))) (kind ())
           (args (((expr (IntNumeral 0)) (emeta ((loc <opaque>))))))
           (truncation NoTruncate)))
         (smeta ((loc <opaque>))))))
      (xloc <opaque>))))
   (generatedquantitiesblock ()) (comments <opaque>)))
  "model {\
 \n  1 ~ bernoulli(#include expr.inc\
 \n                0);\
 \n}\
 \n")
Raised at Base__Error.raise in file "src/error.ml" (inlined), line 9, characters 14-30
Called from Base__Error.raise_s in file "src/error.ml", line 10, characters 19-40
Called from Frontend__Pretty_print_prog.check_correctness in file "src/frontend/Pretty_print_prog.ml", line 58, characters 8-186
Called from Frontend__Pretty_print_prog.pretty_print_program in file "src/frontend/Pretty_print_prog.ml", line 76, characters 2-44
Called from Driver__Entry.stan2cpp in file "src/driver/Entry.ml", line 81, characters 9-383
Called from Dune__exe__Stanc.stanc.(fun) in file "src/stanc/stanc.ml", line 67, characters 4-161
Called from Base__With_return.with_return in file "src/with_return.ml", line 21, characters 12-24
Re-raised at Base__With_return.with_return in file "src/with_return.ml", line 29, characters 12-21
Called from Common__ICE.with_exn_message in file "src/common/ICE.ml", line 14, characters 9-15


This should never happen. Please file a bug at https://github.com/stan-dev/stanc3/issues/new
and include this message and the model that caused this issue.
[exit 125]
  $ ../../../../../install/default/bin/stanc --auto-format --include-paths="." if.stan
Internal compiler error:
("Pretty-printed program failed to parse"
  "Syntax error in 'string', line 6, column 19, parsing error:\
 \n   -------------------------------------------------\
 \n     4:      x = 3;\
 \n     5:    #include else.inc\
 \n     6:    else {\
 \n\
 \nIll-formed block. Expected a statement, variable declaration, or just \"}\".\
 \n"
 (prog
  ((functionblock ()) (datablock ()) (transformeddatablock ())
   (parametersblock ()) (transformedparametersblock ()) (modelblock ())
   (generatedquantitiesblock
    (((stmts
       (((stmt
          (VarDecl (decl_type SInt) (transformation Identity)
           (is_global true)
           (variables
            (((identifier ((name x) (id_loc <opaque>))) (initial_value ()))))))
         (smeta ((loc <opaque>))))
        ((stmt
          (IfThenElse ((expr (IntNumeral 1)) (emeta ((loc <opaque>))))
           ((stmt
             (Assignment
              (assign_lhs
               (LValue
                ((lval (LVariable ((name x) (id_loc <opaque>))))
                 (lmeta ((loc <opaque>))))))
              (assign_op Assign)
              (assign_rhs ((expr (IntNumeral 3)) (emeta ((loc <opaque>)))))))
            (smeta ((loc <opaque>))))
           (((stmt
              (Block
               (((stmt
                  (Assignment
                   (assign_lhs
                    (LValue
                     ((lval (LVariable ((name x) (id_loc <opaque>))))
                      (lmeta ((loc <opaque>))))))
                   (assign_op Assign)
                   (assign_rhs
                    ((expr (IntNumeral 25)) (emeta ((loc <opaque>)))))))
                 (smeta ((loc <opaque>)))))))
             (smeta ((loc <opaque>)))))))
         (smeta ((loc <opaque>))))))
      (xloc <opaque>))))
   (comments <opaque>)))
  "generated quantities {\
 \n  int x;\
 \n  if (1) \
 \n    x = 3;\
 \n  #include else.inc\
 \n  else {\
 \n    \
 \n  }\
 \n}\
 \n")
Raised at Base__Error.raise in file "src/error.ml" (inlined), line 9, characters 14-30
Called from Base__Error.raise_s in file "src/error.ml", line 10, characters 19-40
Called from Frontend__Pretty_print_prog.check_correctness in file "src/frontend/Pretty_print_prog.ml", line 58, characters 8-186
Called from Frontend__Pretty_print_prog.pretty_print_program in file "src/frontend/Pretty_print_prog.ml", line 76, characters 2-44
Called from Driver__Entry.stan2cpp in file "src/driver/Entry.ml", line 81, characters 9-383
Called from Dune__exe__Stanc.stanc.(fun) in file "src/stanc/stanc.ml", line 67, characters 4-161
Called from Base__With_return.with_return in file "src/with_return.ml", line 21, characters 12-24
Re-raised at Base__With_return.with_return in file "src/with_return.ml", line 29, characters 12-21
Called from Common__ICE.with_exn_message in file "src/common/ICE.ml", line 14, characters 9-15


This should never happen. Please file a bug at https://github.com/stan-dev/stanc3/issues/new
and include this message and the model that caused this issue.
[exit 125]
